<!-- Generated with pygen (c) Rajin Shankar / GD@IU 2019 -->
<!DOCTYPE html>
<html lang="en">



<head>
    <!-- begin doc_head.py.html -->


    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Gamedev@IU Events</title>
    <link href="/img/branding/GDIU_Icon_small.png" rel="icon">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
        integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Nunito:400,700" rel="stylesheet">

    <link href="/css/gdiu.css" rel="stylesheet" type="text/css" />
    <link href="/css/gdiu_responsive.css" rel="stylesheet" type="text/css" />
    
    <!-- <link href="/css/gdiu.less" rel="stylesheet" type="text/less" />
    <link href="/css/gdiu_responsive.less" rel="stylesheet" type="text/less" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/3.0.4/less.min.js"></script> -->

    <!-- <script src="/js/public/gdiu.js"></script> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
            <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
            <![endif]-->

<!-- end doc_head.py.html -->
</head>

<body>
    <!-- BEGIN EVENT INFO OVERLAY -->
<input type="checkbox" id="event-overlay-toggle" class="overlay-toggle" />
<div id="event-overlay" class="overlay" inject-target>
    <label for="event-overlay-toggle" id="event-overlay-background-exit" class="overlay-background-exit"></label>
    <div id="event-box" class="overlay-box">
        <div id="event-panel" class="overlay-panel">
            <div class="panel green">
                <div class="top solid">
                    <h2>$title</h2>
                    <div>
                        <span class="pill outline no-select">
                            <i class="fas fa-calendar space"></i>$date <span class="time">$time</span>
                        </span>
                        &nbsp;
                        <span class="location no-wrap">$location</span>
                    </div>
                </div>
                <div class="bottom outline">
                    <div class="content">
                        <div class="img panel thumb" style="background-image:url('$thumb');"></div>
                        <span class="description">$body</span>
                    </div>

                    <div class="tag-list">
                        $tag
                    </div>

                    <div class="controls m">
                        <label for="event-overlay-toggle" class="button pill solid red size-2">
                            <i class="fas fa-times-circle"></i> Close
                        </label>
                        <a href="events/$get_link.html" target="_blank" class="button circle solid blue"><i class="fas fa-link"></i></a>
                    </div>
                </div>
                <div class="controls d">
                    <label for="event-overlay-toggle" class="button circle solid red"><i class="fas fa-times"></i></label>
                    <a href="events/$get_link.html" target="_blank" class="button circle solid blue"><i class="fas fa-link"></i></a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- END EVENT INFO OVERLAY -->

    <div id="wrapper">
    <div id="top-bars">
        <div class="bar solid yellow"></div>
        <div class="bar solid blue"></div>
        <div class="bar solid green"></div>
        <div class="bar solid red"></div>
    </div>
    <div id="body">
    <div id="top">
    <div class="nav th">
        <a href="/" class="site-icon">
            <img src="/img/branding/GDIU_LogoWhiteOutlines.svg" alt="GD@IU" />
        </a>
        <div class="items">
            <a href="/" class="button circle nudge-left solid pink">
                <i class="fas fa-home"></i>
            </a>
            <a href="/about.html" class="button circle solid blue">
                <i class="fas fa-lightbulb"></i>
            </a>
            <a href="/events.html" class="button circle solid green">
                <i class="fas fa-calendar"></i>
            </a>
            <a href="/contact.html" class="button circle nudge-down solid purple">
                <i class="fas fa-envelope"></i>
            </a>
            <a href="/resources.html" class="button circle solid red">
                <i class="fas fa-clipboard-list"></i>
            </a>
        </div>
    </div>
    <div class="nav w">
        <a href="/" class="site-icon">
            <img src="/img/branding/GDIU_LogoWhiteOutlines.svg" alt="GD@IU" />
        </a>
        <div class="items">
            <a href="/" class="button pill solid pink">
                <i class="fas fa-home"></i>
                Home
            </a>
            <a href="/about.html" class="button pill solid blue">
                <i class="fas fa-lightbulb"></i>
                About
            </a>
            <a href="/events.html" class="button pill solid green">
                <i class="fas fa-calendar"></i>
                Events
            </a>
            <a href="/contact.html" class="button pill solid purple">
                <i class="fas fa-envelope"></i>
                Contact
            </a>
            <a href="/resources.html" class="button pill solid red">
                <i class="fas fa-clipboard-list"></i>
                Resources
            </a>
        </div>
    </div>
</div>

    <div class="block">
        <div class="panel green">
            <div class="top solid">
                <h1>All Events</h1>
            </div>
            <div class="bottom outline content-list" id="event-list" empty-text="looks like there's nothing coming up :)">
                <div class="placeholder">loading events...</div>
            </div>
        </div>
    </div>
    
        </div>
    <div class="d" id="footer-spacer"></div>
    <div class="d" id="footer">
        <div class="bar"></div>
        <a href="#" id="rtt" class="button circle large red d">
            <i class="fas fa-angle-up"></i>
        </a>
        <div class="bar"></div>
        <div class="bar"></div>
        <!-- <div class="bar solid red"></div> -->
    </div>
</div>

<script>
    let body = document.getElementsByTagName('body')[0]
    let scroll_offset = 190
    let scroll_factor = 3
    body.style.backgroundPositionY = `-${scroll_offset}px`;

    window.onscroll = () => {
        let offset = window.scrollY
        body.style.backgroundPositionY = `-${scroll_offset + offset / scroll_factor}px`;
    }
</script>

    
    

<script>
    let events = {
        
        // ^ Generated ^
    }

    let event = {
        listTemplate: "",
        tagTemplate: "<div class='tag' tag='$tag'> <span class='w'>$tag</span> </div>",
        varPrefix: "$",
        maxCount: 030
        ,

        getInfo: (name) => {
            if (name in events) {
                return events[name]
            }
            else {
                return null
            }
        },

        isInFuture: (info) => {
            let now = Date.now()
            let currentYear = new Date(now).getYear() + 1900
            let date = Date.parse(`${info['date']}/${currentYear}`)

            return now < date
        }
    }

    let filterAll = (e) => { return true }

    function inject(obj, text) {
        // Replace $var with the appropriate value from the info object
        for (var k in obj) {
            if (k == "tag") {
                let tags = obj[k]
                var tagHTML = ""
                for (i in tags) {
                    tagHTML += event.tagTemplate.replace(new RegExp(`\\${event.varPrefix}tag`, 'g'), tags[i])
                }
                text = text.replace(new RegExp(`\\${event.varPrefix}${k}`, 'g'), tagHTML)
            }
            else {
                text = text.replace(new RegExp(`\\${event.varPrefix}${k}`, 'g'), obj[k])
            }
        }
        return text
    }

    function createEventList(parentId, filter) {
        let parent = document.getElementById(parentId)
        var html = ""

        if (parent == null) {
            console.log(`(createEventList) Event list parent '#${parentId}' doesn't exist`)
            return
        }

        // Get the HTML for each list element
        var i = 0
        for (var key in events) {
            let info = events[key]
            if (!filter(info)) { continue }

            eventHTML = inject(info, event.listTemplate)
            html += eventHTML

            i++
            if (i >= event.maxCount)
            {
                break;
            }
        }

        parent.innerHTML = html
    }

    injectTargetBaseText = {}
    function createInjectLinks() {
        let injectTargets = document.querySelectorAll("[inject-target]")
        for (target of injectTargets) {
            console.log(`Target ${target.id}`)
            injectTargetBaseText[target.id] = target.innerHTML;
        }

        let injectLinks = document.querySelectorAll("[inject-src]")
        for (link of injectLinks) {
            console.log(`Link ${link}`)
            let targetId = link.getAttribute("inject-link")
            let key = link.getAttribute("inject-src")
            link.onclick = () => {
                console.log(`Inject ${key} -> ${targetId}`)
                let target = document.getElementById(targetId)
                let content = events[key]

                target.innerHTML = inject(content, injectTargetBaseText[targetId])
            }
        }
    }

    createEventList("event-list", event.isInFuture)
    // createEventList("event-list", filterAll)
    createInjectLinks();
</script>
</body>

</html>